/*
 =========================================================
 msCronjs
 https://github.com/onterumahendra/CronScheduler-Foundation
 Copyright (c) 2016 MSquare Solutions
 =========================================================
 */
/*
 * Contributions:
 *  - Onteru Mahendra (msbrother445@gmail.com)
 *  - Padala Mallikarjuna (mallikarjuna.909@gmail.com)
 */!function(e){e.fn.msCron=function(a){function t(){var a=[{text:"January",val:"1"},{text:"February",val:"2"},{text:"March",val:"3"},{text:"April",val:"4"},{text:"May",val:"5"},{text:"June",val:"6"},{text:"July",val:"7"},{text:"August",val:"8"},{text:"September",val:"9"},{text:"October",val:"10"},{text:"Novermber",val:"11"},{text:"December",val:"12"}];e(".months").each(function(){n(this,a)})}function n(a,t){for(var n=0;n<t.length;n++)e(a).append("<option value='"+t[n].val+"'>"+t[n].text+"</option>")}function i(){for(var a=0;60>a;a++)24>a&&e(".hours").each(function(){e(this).append(d(a))}),e(".minutes").each(function(){e(this).append(d(a))})}function l(){var a=[{text:"Monday",val:"MON"},{text:"Tuesday",val:"TUE"},{text:"Wednesday",val:"WED"},{text:"Thursday",val:"THU"},{text:"Friday",val:"FRI"},{text:"Saturday",val:"SAT"},{text:"Sunday",val:"SUN"}];e(".week-days").each(function(){n(this,a)})}function s(){var a=[{text:"First",val:"1"},{text:"Second",val:"2"},{text:"Third",val:"3"},{text:"Fourth",val:"4"}];e(".day-order-in-month").each(function(){n(this,a)})}function p(e){return 1==e.toString().length?"0"+e:e}function d(e){return"<option value='"+e+"'>"+p(e)+"</option>"}function r(){var t,t=e("ul#msCronTabs li.is-active a").prop("id"),n="";switch(t){case"msMinutesTab":n="0 0/"+e("#MinutesInput").val()+" * 1/1 * ? *",t="MINUTES";break;case"msHourlyTab":switch(e("input:radio[name=HourlyRadio]:checked").val()){case"1":n="0 0 0/"+e("#HoursInput").val()+" 1/1 * ? *";break;case"2":n="0 "+Number(e("#AtMinutes").val())+" "+Number(e("#AtHours").val())+" 1/1 * ? *"}t="HOURLY";break;case"msDailyTab":switch(e("input:radio[name=DailyRadio]:checked").val()){case"1":n="0 "+Number(e("#DailyMinutes").val())+" "+Number(e("#DailyHours").val())+" 1/"+e("#DaysInput").val()+" * ? *";break;case"2":n="0 "+Number(e("#DailyMinutes").val())+" "+Number(e("#DailyHours").val())+" ? * MON-FRI *"}t="DAILY";break;case"msWeeklyTab":var i="";e("#Weekly input:checkbox:checked").each(function(){i+=e(this).val()+","}),i.length>0&&(i=i.substr(0,i.length-1)),n="0 "+Number(e("#WeeklyMinutes").val())+" "+Number(e("#WeeklyHours").val())+" ? * "+i+" *",t="WEEKLY";break;case"msMonthlyTab":switch(e("input:radio[name=MonthlyRadio]:checked").val()){case"1":n="0 "+Number(e("#MonthlyMinutes").val())+" "+Number(e("#MonthlyHours").val())+" "+e("#DayOfMOnthInput").val()+" 1/"+e("#MonthInput").val()+" ? *";break;case"2":n="0 "+Number(e("#MonthlyMinutes").val())+" "+Number(e("#MonthlyHours").val())+" ? 1/"+Number(e("#EveryMonthInput").val())+" "+e("#DayInWeekOrder").val()+"#"+e("#WeekDay").val()+" *"}t="MONTHLY";break;case"msYearlyTab":switch(e("input:radio[name=YearlyRadio]:checked").val()){case"1":n="0 "+Number(e("#YearlyMinutes").val())+" "+Number(e("#YearlyHours").val())+" "+e("#YearInput").val()+" "+e("#MonthsOfYear").val()+" ? *";break;case"2":n="0 "+Number(e("#YearlyMinutes").val())+" "+Number(e("#YearlyHours").val())+" ? "+e("#MonthsOfYear2").val()+" "+e("#DayWeekForYear").val()+"#"+e("#DayOrderInYear").val()+" *"}t="YEARLY"}a.getCron=n,a.activeTab=t}function o(a,t){n=t.replace(/ +(?= )/g,"").trim();var n=n.split(" ");if(7===n.length)switch(e("#msCronTabs li,#CronGenMainDiv .tabs-content .tabs-panel").removeClass("is-active"),e("#msCronTabs li a").attr("aria-selected",!1),a){case"MINUTES":e('#msCronTabs a[href="#Minutes"]').attr("aria-selected",!0).parent().addClass("is-active"),e("#Daily").addClass("is-active"),t=t.match(/\d+/g),e("#MinutesInput").val(t[2]);break;case"HOURLY":e('#msCronTabs a[href="#Hourly"]').attr("aria-selected",!0).parent().addClass("is-active"),e("#Hourly").addClass("is-active"),t=t.match(/\d+/g),6===t.length?(e("#HoursInput").val(t[3]),e("input:radio[name=HourlyRadio][value=1]").prop("checked",!0)):(e("#AtMinutes ").val(t[1]),e("#AtHours ").val(t[2]),e("input:radio[name=HourlyRadio][value=2]").prop("checked",!0));break;case"DAILY":e('#msCronTabs a[href="#Daily"]').attr("aria-selected",!0).parent().addClass("is-active"),e("#Daily").addClass("is-active"),t=t.match(/\d+/g),5===t.length?(e("#DaysInput").val(t[4]),e("input:radio[name=DailyRadio][value=1]").prop("checked",!0)):e("input:radio[name=DailyRadio][value=2]").prop("checked",!0),e("#DailyHours ").val(t[2]),e("#DailyMinutes ").val(t[1]);break;case"WEEKLY":e('#msCronTabs a[href="#Weekly"]').attr("aria-selected",!0).parent().addClass("is-active"),e("#Weekly").addClass("is-active");var i=t;t=t.match(/\d+/g),e("#WeeklyMinutes").val(t[1]),e("#WeeklyHours").val(t[2]),e("#Weekly input:checkbox").each(function(){i.indexOf(e(this).val())>=0&&e(this).prop("checked",!0)});break;case"MONTHLY":e('#msCronTabs a[href="#Monthly"]').attr("aria-selected",!0).parent().addClass("is-active"),e("#Monthly").addClass("is-active"),-1!==t.indexOf("#")?(e("input:radio[name=MonthlyRadio][value=2]").prop("checked",!0),e("#DayInWeekOrder").val(t.substring(t.indexOf("#"),t.indexOf("#")-3)),t=t.match(/\d+/g),e("#WeekDay").val(t[5]),e("#EveryMonthInput").val(t[4])):(t=t.match(/\d+/g),e("#DayOfMOnthInput").val(t[3]),e("#MonthInput").val(t[5]),e("input:radio[name=MonthlyRadio][value=1]").prop("checked",!0)),e("#MonthlyHours").val(t[1]),e("#MonthlyMinutes").val(t[2]);break;case"YEARLY":e('#msCronTabs a[href="#Yearly"]').attr("aria-selected",!0).parent().addClass("is-active"),e("#Yearly").addClass("is-active"),-1!==t.indexOf("#")?(e("input:radio[name=YearlyRadio][value=2]").prop("checked",!0),e("#DayWeekForYear").val(t.substring(t.indexOf("#"),t.indexOf("#")-3)),t=t.match(/\d+/g),e("#DayOrderInYear").val(t[4]),e("#MonthsOfYear2").val(t[3])):(t=t.match(/\d+/g),e("#MonthsOfYear").val(t[4]),e("#YearInput").val(t[3]),e("input:radio[name=YearlyRadio][value=1]").prop("checked",!0)),e("#YearlyHours").val(t[2]),e("#YearlyMinutes").val(t[1])}else alert("Invalid Cron Expression..!")}"undefined"==typeof a&&(a={getCron:"",setCron:"",activeTab:"MINUTES"});var c=(e.extend({getCron:"",setCron:"",activeTab:""},a),e("<div/>",{id:"CronGenMainDiv"})),y=e("<ul/>",{"class":"tabs",id:"msCronTabs","data-tabs":""});e("<li/>",{"class":"tabs-title is-active"}).html(e('<a id="msMinutesTab"  href="#Minutes" aria-selected="true">Minutes</a>')).appendTo(y),e("<li/>",{"class":"tabs-title"}).html(e('<a id="msHourlyTab"  href="#Hourly">Hourly</a>')).appendTo(y),e("<li/>",{"class":"tabs-title"}).html(e('<a id="msDailyTab"  href="#Daily">Daily</a>')).appendTo(y),e("<li/>",{"class":"tabs-title"}).html(e('<a id="msWeeklyTab"  href="#Weekly">Weekly</a>')).appendTo(y),e("<li/>",{"class":"tabs-title"}).html(e('<a id="msMonthlyTab"  href="#Monthly">Monthly</a>')).appendTo(y),e("<li/>",{"class":"tabs-title"}).html(e('<a id="msYearlyTab"  href="#Yearly">Yearly</a>')).appendTo(y),e(y).appendTo(c);var u=e("<div/>",{"class":"tabs-content","data-tabs-content":"msCronTabs"}),h=e("<div/>",{"class":"tabs-panel is-active",id:"Minutes"}),v=e("<div/>",{style:"padding:15px"});e(v).append("Every&nbsp;"),e("<input/>",{id:"MinutesInput",type:"text",value:"1",style:"width: 40px;display:inline"}).appendTo(v),e(v).append("&nbsp;minute(s)"),e(v).appendTo(h),e(h).appendTo(u);var b=e("<div/>",{"class":"tabs-panel",id:"Hourly"}),m=e("<div/>",{style:"padding:15px"});e("<input/>",{type:"radio",value:"1",name:"HourlyRadio",checked:"checked"}).appendTo(m),e(m).append("&nbsp;Every&nbsp;"),e("<input/>",{id:"HoursInput",type:"text",value:"1",style:"width: 40px;display:inline"}).appendTo(m),e(m).append("&nbsp;hour(s)"),e(m).appendTo(b);var x=e("<div/>",{style:"padding:15px"});e("<input/>",{type:"radio",value:"2",name:"HourlyRadio"}).appendTo(x),e(x).append("&nbsp;At&nbsp;"),e(x).append('<select id="AtHours" class="hours" style="width: 80px;display:inline;margin-right:5px;"></select>'),e(x).append('<select id="AtMinutes" class="minutes" style="width: 80px;display:inline;margin-right:5px;"></select>'),e(x).appendTo(b),e(b).appendTo(u);var T=e("<div/>",{"class":"tabs-panel",id:"Daily"}),k=e("<div/>",{style:"padding:15px"});e("<input/>",{type:"radio",value:"1",name:"DailyRadio",checked:"checked"}).appendTo(k),e(k).append("&nbsp;Every&nbsp;"),e("<input/>",{id:"DaysInput",type:"text",value:"1",style:"width: 40px;display:inline"}).appendTo(k),e(k).append("&nbsp;day(s)"),e(k).appendTo(T);var M=e("<div/>",{style:"padding:15px"});e("<input/>",{type:"radio",value:"2",name:"DailyRadio"}).appendTo(M),e(M).append("&nbsp;Every week day&nbsp;"),e(M).appendTo(T),e(T).append("Start time&nbsp;"),e(T).append('<select id="DailyHours" class="hours" style="width: 80px;display:inline;margin-right:5px;"></select>'),e(T).append('<select id="DailyMinutes" class="minutes" style="width: 80px;display:inline;margin-right:5px;"></select>'),e(T).appendTo(u);var f=e("<div/>",{"class":"tabs-panel",id:"Weekly"}),g=e("<fieldset/>");e("<input/>",{type:"checkbox",id:"mondayCheckBox",value:"MON"}).appendTo(g),e("<label/>",{"class":"checkbox-inline","for":"mondayCheckBox"}).html("Monday").appendTo(g),e("<input/>",{type:"checkbox",id:"tuedayCheckBox",value:"TUE"}).appendTo(g),e("<label/>",{"class":"checkbox-inline","for":"tuedayCheckBox"}).html("Tuesday").appendTo(g),e("<input/>",{type:"checkbox",id:"weddayCheckBox",value:"WED"}).appendTo(g),e("<label/>",{"class":"checkbox-inline","for":"weddayCheckBox"}).html("Wednesday").appendTo(g),e("<input/>",{type:"checkbox",id:"thudayCheckBox",value:"THU"}).appendTo(g),e("<label/>",{"class":"checkbox-inline","for":"thudayCheckBox"}).html("Thursday").appendTo(g),e("<input/>",{type:"checkbox",id:"fridayCheckBox",value:"FRI"}).appendTo(g),e("<label/>",{"class":"checkbox-inline","for":"fridayCheckBox"}).html("Friday").appendTo(g),e("<input/>",{type:"checkbox",id:"satdayCheckBox",value:"SAT"}).appendTo(g),e("<label/>",{"class":"checkbox-inline","for":"satdayCheckBox"}).html("Saturday").appendTo(g),e("<input/>",{type:"checkbox",id:"sundayCheckBox",value:"SUN"}).appendTo(g),e("<label/>",{"class":"checkbox-inline","for":"sundayCheckBox"}).html("Sunday").appendTo(g),e(g).appendTo(f),e(f).append("Start time&nbsp;"),e(f).append('<select id="WeeklyHours" class="hours" style="width: 80px;display:inline;margin-right:5px;"></select>'),e(f).append('<select id="WeeklyMinutes" class="minutes" style="width: 80px;display:inline;margin-right:5px;"></select>'),e(f).appendTo(u);var C=e("<div/>",{"class":"tabs-panel",id:"Monthly"}),D=e("<div/>",{style:"padding:15px"});e("<input/>",{type:"radio",value:"1",name:"MonthlyRadio",checked:"checked"}).appendTo(D),e(D).append("&nbsp;Day&nbsp"),e("<input/>",{id:"DayOfMOnthInput",type:"text",value:"1",style:"width: 40px;display:inline"}).appendTo(D),e(D).append("&nbsp;of every&nbsp;"),e("<input/>",{id:"MonthInput",type:"text",value:"1",style:"width: 40px;display:inline;"}).appendTo(D),e(D).append("&nbsp;month(s)"),e(D).appendTo(C);var Y=e("<div/>",{style:"padding:15px"});e("<input/>",{type:"radio",value:"2",name:"MonthlyRadio"}).appendTo(Y),e(Y).append("&nbsp;"),e(Y).append('<select id="WeekDay" class="day-order-in-month" style="width: 80px;display:inline;margin-right:5px;"></select>'),e(Y).append('<select id="DayInWeekOrder" class="week-days" style="width: 100px;display:inline"></select>'),e(Y).append("&nbsp;of every&nbsp;"),e("<input/>",{id:"EveryMonthInput",type:"text",value:"1",style:"width: 40px;display:inline;"}).appendTo(Y),e(Y).append("&nbsp;month(s)"),e(Y).appendTo(C),e(C).append("Start time&nbsp;"),e(C).append('<select id="MonthlyHours" class="hours" style="width: 80px;display:inline;margin-right:5px;"></select>'),e(C).append('<select id="MonthlyMinutes" class="minutes" style="width: 80px;display:inline;margin-right:5px;"></select>'),e(C).appendTo(u);var H=e("<div/>",{"class":"tabs-panel",id:"Yearly"}),I=e("<div/>",{style:"padding:15px"});e("<input/>",{type:"radio",value:"1",name:"YearlyRadio",checked:"checked"}).appendTo(I),e(I).append("&nbsp;Every&nbsp"),e(I).append('<select id="MonthsOfYear" class="months" style="width: 150px;display:inline"></select>'),e(I).append("&nbsp;in day&nbsp;"),e("<input/>",{id:"YearInput",type:"text",value:"1",style:"width: 40px;display:inline;"}).appendTo(I),e(I).appendTo(H);var w=e("<div/>",{style:"padding:15px"});return e("<input/>",{type:"radio",value:"2",name:"YearlyRadio"}).appendTo(w),e(w).append("&nbsp;The&nbsp;"),e(w).append('<select id="DayOrderInYear" class="day-order-in-month" style="width: 90px;display:inline;margin-right:5px;"></select>'),e(w).append('<select id="DayWeekForYear" class="week-days" style="width: 100px;display:inline"></select>'),e(w).append("&nbsp;of&nbsp;"),e(w).append('<select id="MonthsOfYear2" class="months" style="width: 110px;display:inline"></select>'),e(w).appendTo(H),e(H).append("Start time&nbsp;"),e(H).append('<select id="YearlyHours" class="hours" style="width: 80px;display:inline;margin-right:5px;"></select>'),e(H).append('<select id="YearlyMinutes" class="minutes" style="width: 80px;display:inline;margin-right:5px;"></select>'),e(H).appendTo(u),e(u).appendTo(c),e(this).html(c),i(),s(),l(),t(),e("#CronGenMainDiv select,input").change(function(e){r()}),e("#CronGenMainDiv input").focus(function(e){r()}),""!==a.setCron?o(a.activeTab,a.setCron):r(),a}}(jQuery);